---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Stasik.
--- DateTime: 17.02.2020 19:42
---
do


    LegendaryEffectsList = {}



    function GetLegendaryEffect(id)
        return LegendaryEffectsList[id]
    end


    function NewLegendaryEffect(template)
        LegendaryEffectsList[template.id] = template
    end



    function ApplyLegendaryEffect(unit, effect, flag)
        local unit_data = GetUnitData(unit)

            if effect.type == ITEM_PASSIVE_EFFECT then
                if flag then unit_data.effects[effect.id] = true
                else unit_data.effects[effect.id] = nil end
            else
                if flag then
                    unit_data.effects[effect.id] = CreateTimer()
                    TimerStart(unit_data.effects[effect.id], effect.period, true, function()
                        effect.func(unit, effect.id)
                    end)
                else
                    effect.endfunc(unit, effect.id)
                    DestroyTimer(unit_data.effects[effect.id])
                    unit_data.effects[effect.id] = nil
                end
            end

    end
    

    function InitLegendaryEffects()
        --=========================================================================
        NewLegendaryEffect({
            name = "Все огненные заклинания на 35%% сильнее.",
            id = "FRBD",
            type = ITEM_PASSIVE_EFFECT
        })
        --=========================================================================
        NewLegendaryEffect({
            name = "кристальный топор",
            id = "ECRA",
            type = ITEM_PASSIVE_EFFECT
        })
        --=========================================================================
        NewLegendaryEffect({
            name = "эхо боли",
            id = "ECSL",
            type = ITEM_PASSIVE_EFFECT
        })
        --=========================================================================
        NewLegendaryEffect({
            name = "огненная принцесса",
            id = "EOTS",
            type = ITEM_PASSIVE_EFFECT
        })
        --=========================================================================
        NewLegendaryEffect({
            name = "око бури",
            id = "EOTS",
            type = ITEM_PASSIVE_EFFECT
        })
        --=========================================================================
        NewLegendaryEffect({
            name = "сапоги бустеры",
            id = "BSTR",
            type = ITEM_PASSIVE_EFFECT
        })
        --=========================================================================
        NewLegendaryEffect({
            name = "мастер элементов",
            id = "MOFE",
            type = ITEM_PASSIVE_EFFECT
        })
        --=========================================================================
    end


end