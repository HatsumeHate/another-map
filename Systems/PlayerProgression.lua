---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by hatsu.
--- DateTime: 12.06.2023 8:49
---
do


    local PlayerMaxWavesReached
    local PlayerColors



    function DisplayPlayerProgression(player)
        if PlayerSyncData[player]["current_wave"] then
            local msg = PlayerColors[player] .. ParsePlayerName(GetPlayerName(Player(player-1))) .. "|r" .. LOCALE_LIST[my_locale].PLAYER_PROGRESSION_MSG_1 .. PlayerSyncData[player]["current_wave"] .. LOCALE_LIST[my_locale].PLAYER_PROGRESSION_MSG_2

            DisplayTimedTextToPlayer(Player(player-1), 0, 0, 10., msg)

            local level = S2I(PlayerSyncData[player]["current_wave"]) or 0

            if level > 0 and level <= 10 then AddToInventory(player, CreateCustomItem("I03K", 0.,0., false))
            elseif level > 10 and level <= 20 then AddToInventory(player, CreateCustomItem("I03L", 0.,0., false))
            elseif level > 20 and level <= 30 then AddToInventory(player, CreateCustomItem("I03M", 0.,0., false))
            elseif level > 30 then AddToInventory(player, CreateCustomItem("I03N", 0.,0., false)) end

        end
    end


    function SavePlayerProgression(player)
        local max = PlayerSyncData[player]["current_wave"] or 0

        max = math.floor(max)

            if PlayerHero[player] and max < Current_Wave then
                AddToBuffer("@currentwave" .. Current_Wave)
                FileWrite(player-1, SaveDataPath .. "player_progression.txt", "")
            end

    end


    function LoadPlayerProgression()

        FileLoad(SaveDataPath .. "player_progression.txt")

        PlayerColors = {
            [1] = "|c00FF0000",
            [2] = "|c000000FF",
            [3] = "|c0000FFFF",
            [4] = "|c0071007D",
            [5] = "|c00FFFF00",
            [6] = "|c00FF8B00",
        }
        PlayerMaxWavesReached = {}

    end


end